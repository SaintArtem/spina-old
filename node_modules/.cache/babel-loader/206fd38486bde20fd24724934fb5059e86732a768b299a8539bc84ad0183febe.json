{"ast":null,"code":"const clickEventType = function () {\n  return document.ontouchstart !== null ? \"click\" : \"touchstart\";\n};\nconst UNIQUE_ID = \"__vue_click_away__\";\nconst onMounted = function (el, binding, vnode) {\n  onUnmounted(el);\n  let vm = vnode.context;\n  let callback = binding.value;\n  let nextTick = false;\n  setTimeout(function () {\n    nextTick = true;\n  }, 0);\n  el[UNIQUE_ID] = function (event) {\n    if ((!el || !el.contains(event.target)) && callback && nextTick && typeof callback === \"function\") {\n      return callback.call(vm, event);\n    }\n  };\n  document.addEventListener(clickEventType(), el[UNIQUE_ID], false);\n};\nconst onUnmounted = function (el) {\n  document.removeEventListener(clickEventType(), el[UNIQUE_ID], false);\n  delete el[UNIQUE_ID];\n};\nconst onUpdated = function (el, binding, vnode) {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n  onMounted(el, binding, vnode);\n};\nconst plugin = {\n  install: function (app) {\n    app.directive('click-away', directive);\n  }\n};\nconst directive = {\n  mounted: onMounted,\n  updated: onUpdated,\n  unmounted: onUnmounted\n};\nconst mixin = {\n  directives: {\n    ClickAway: directive\n  }\n};\nexport default plugin;\nexport { directive, mixin };","map":{"version":3,"names":["clickEventType","document","ontouchstart","UNIQUE_ID","onMounted","el","binding","vnode","onUnmounted","vm","context","callback","value","nextTick","setTimeout","event","contains","target","call","addEventListener","removeEventListener","onUpdated","oldValue","plugin","install","app","directive","mounted","updated","unmounted","mixin","directives","ClickAway"],"sources":["../index.js"],"sourcesContent":["const clickEventType = () => {\n  return document.ontouchstart !== null ? \"click\" : \"touchstart\";\n};\n\nconst UNIQUE_ID = \"__vue_click_away__\";\n\nconst onMounted = (el, binding, vnode) => {\n  onUnmounted(el);\n\n  let vm = vnode.context;\n  let callback = binding.value;\n\n  let nextTick = false;\n  setTimeout(function () {\n    nextTick = true;\n  }, 0);\n\n  el[UNIQUE_ID] = (event) => {\n    if (\n      (!el || !el.contains(event.target)) &&\n      callback &&\n      nextTick &&\n      typeof callback === \"function\"\n    ) {\n      return callback.call(vm, event);\n    }\n  };\n\n  document.addEventListener(clickEventType(), el[UNIQUE_ID], false);\n};\n\nconst onUnmounted = (el) => {\n  document.removeEventListener(clickEventType(), el[UNIQUE_ID], false);\n  delete el[UNIQUE_ID];\n};\n\nconst onUpdated = (el, binding, vnode) => {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n  onMounted(el, binding, vnode);\n};\n\nconst plugin = {\n  install: (app) => {\n    app.directive('click-away', directive)\n  }\n}\n\nconst directive = {\n  mounted: onMounted,\n  updated: onUpdated,\n  unmounted: onUnmounted,\n};\n\nconst mixin = {\n  directives: { ClickAway: directive },\n};\n\nexport {\n  directive,\n  mixin\n}\n\nexport default plugin;\n"],"mappings":"AAAA,MAAMA,cAAc,GAAG,SAAAA,CAAA,EAAM;EAC3B,OAAOC,QAAQ,CAACC,YAAT,KAA0B,IAA1B,GAAiC,OAAjC,GAA2C,YAAlD;AACD,CAFD;AAIA,MAAMC,SAAS,GAAG,oBAAlB;AAEA,MAAMC,SAAS,GAAG,SAAAA,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;EACxCC,WAAW,CAACH,EAAD,CAAX;EAEA,IAAII,EAAE,GAAGF,KAAK,CAACG,OAAf;EACA,IAAIC,QAAQ,GAAGL,OAAO,CAACM,KAAvB;EAEA,IAAIC,QAAQ,GAAG,KAAf;EACAC,UAAU,CAAC,YAAY;IACrBD,QAAQ,GAAG,IAAX;EACD,CAFS,EAEP,CAFO,CAAV;EAIAR,EAAE,CAACF,SAAD,CAAF,GAAgB,UAACY,KAAD,EAAW;IACzB,IACE,CAAC,CAACV,EAAD,IAAO,CAACA,EAAE,CAACW,QAAH,CAAYD,KAAK,CAACE,MAAlB,CAAT,KACAN,QADA,IAEAE,QAFA,IAGA,OAAOF,QAAP,KAAoB,UAJtB,EAKE;MACA,OAAOA,QAAQ,CAACO,IAAT,CAAcT,EAAd,EAAkBM,KAAlB,CAAP;IACD;EACF,CATD;EAWAd,QAAQ,CAACkB,gBAAT,CAA0BnB,cAAc,EAAxC,EAA4CK,EAAE,CAACF,SAAD,CAA9C,EAA2D,KAA3D;AACD,CAvBD;AAyBA,MAAMK,WAAW,GAAG,SAAAA,CAACH,EAAD,EAAQ;EAC1BJ,QAAQ,CAACmB,mBAAT,CAA6BpB,cAAc,EAA3C,EAA+CK,EAAE,CAACF,SAAD,CAAjD,EAA8D,KAA9D;EACA,OAAOE,EAAE,CAACF,SAAD,CAAT;AACD,CAHD;AAKA,MAAMkB,SAAS,GAAG,SAAAA,CAAChB,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;EACxC,IAAID,OAAO,CAACM,KAAR,KAAkBN,OAAO,CAACgB,QAA9B,EAAwC;IACtC;EACD;EACDlB,SAAS,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAT;AACD,CALD;MAOMgB,MAAM,GAAG;EACbC,OAAO,EAAE,SAAAA,CAACC,GAAD,EAAS;IAChBA,GAAG,CAACC,SAAJ,CAAc,YAAd,EAA4BA,SAA5B;EACD;AAHY;MAMTA,SAAS,GAAG;EAChBC,OAAO,EAAEvB,SADO;EAEhBwB,OAAO,EAAEP,SAFO;EAGhBQ,SAAS,EAAErB;AAHK;MAMZsB,KAAK,GAAG;EACZC,UAAU,EAAE;IAAEC,SAAS,EAAEN;EAAb;AADA"},"metadata":{},"sourceType":"module","externalDependencies":[]}